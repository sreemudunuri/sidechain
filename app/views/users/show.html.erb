<h1><%= @user.name %>'s Profile </h1>

<% if @session_id == @user.id %>
  <%= link_to "Add a new song", new_song_path %>
<% end %>

<% if @session_id != @user.id %>
  <% if @user.follows.map{|f| f.follower_id}.include?(@session_id) %>
    <%= button_to "Unfollow", action: "unfollow", mehtod: :post %>
  <% else %>
      <%= button_to "Follow", action: "follow", mehtod: :post %>
  <% end %>

<% end %><br><br>





<h4>List of Songs:</h4>
<% @user.songs.each do |song| %>
  <%= link_to song.name, song %><br><br>
<% end %>

------------<br><br>

<h4>Artists you are following: </h4>
<%  @following.each do |follow| %>
  <%= link_to User.find(follow.user_id).name,  User.find(follow.user_id)%>
<% end %>

<br><br>

------------<br><br>

<%  if @session_id == @user.id %>
  <button type="button" name="button"><%= link_to 'Edit my profile', edit_user_path(@user) %></button><br><br>

  <button type="button" name="button"><%= link_to 'Delete my account', @user, method: 'delete', data: {confirm: "Are you sure?"}  %></button><br><br>
<% end %>

  <button type="button" name="button"><%= link_to 'All Users', users_path %></button>
